# WHY: Configures Lychee link checker behavior for CI/CD
# OBS: Reusable defaults; user agent set in workflow via GitHub context
# REQ: Keep this file if using Lychee link action in GitHub workflows

# WHY: Control verbosity and CI-friendly output
[display]
verbose = "info"   # WHY: Balance between detail and noise
no_progress = true # WHY: Progress bars don't work well in CI logs

# WHY: Performance tuning for link checking
[runtime]
max_concurrency = 6 # WHY: Parallel requests without overwhelming servers
max_retries = 3     # WHY: Retry flaky connections before failing
retry_wait_time = 8 # WHY: Wait 8 seconds between retries
timeout = 30        # WHY: 30 seconds per request before timeout

# WHY: HTTP request configuration
[requests]
# WHY: Accept common status codes that don't indicate broken links
# OBS: 403 and 429 reduce false positives; see note in README/workflow if desired
accept = [
  "200", # OK
  "206", # Partial content
  "301", # Moved permanently
  "302", # Found (temporary redirect)
  "307", # Temporary redirect
  "308", # Permanent redirect
  "403", # Forbidden (often false positive)
  "429", # Too many requests (rate limiting)
  "503", # Service unavailable (temporary)
]

# WHY: Exclude patterns that shouldn't be checked
[exclusions]
exclude = [
  "example\\.com",   # WHY: Exclude example domains in documentation
  "localhost",       # WHY: Exclude local development URLs
  "127\\.0\\.0\\.1", # WHY: Exclude local loopback
  "\\.local",        # WHY: Exclude local network domains
]
